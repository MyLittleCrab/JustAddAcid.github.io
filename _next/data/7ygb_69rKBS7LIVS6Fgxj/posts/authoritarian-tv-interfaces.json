{"pageProps":{"post":{"title":"Авторитарные замашки у проектировщиков интерфейсов TV","date":"2020-09-24T13:20:05.316Z","slug":"authoritarian-tv-interfaces","author":{"name":"Roman A. Nosov","picture":"https://avatars3.githubusercontent.com/u/21103635?s=120&v=4","url":"https://github.com/JustAddAcid"},"content":"<p>Минутка признания. Больше всего в этом мире я ненавижу \"неотключаемые опции\". Есть в этом что-то авторитарное. Когда создатель какой-либо системы играет в бога и заявляет: \"Я просто знаю, что вот эта функция нужна будет всегда. И не отвертитесь! Будете жрать говно до конца!\"</p>\n<p>И такое дерьмо проявляется везде: не только в айтишечке, а даже в обычной жизни! Приведу несколько примеров, чтобы вы поняли, о чем я говорю:</p>\n<h3>Интернет в ADSL-эпоху</h3>\n<p>Вот пришел ты в нулевые года к интернет-провайдеру и говоришь: \"Хочу провести себе тырнет по медному проводу аж <strong>5мб/с</strong>, чтобы смотреть ютуб в 480p и орать с демотиваторов.\"</p>\n<p>А тебя заставляют выбирать сразу два тарифа: на интернет и на телефон. Доводы: \"Я не хочу домашний телефон, мне мобилки хватает\" — не работают. И приходится соглашаться с требованиями монополиста — Ростелекома, и платить дополнительный прайс за телефон, которым никто и не воспользовался ни разу. </p>\n<p><img src=\"../assets/blog/authoritarian-tv-interfaces/without_disconnects.jpg\" alt=\"Ни единого разрыва\"></p>\n<h3>Прекрасное пенсионное и медицинское страхование в рашке</h3>\n<p>Для этих штук можно спокойно использовать лозунг \"плати и не пользуйся\". Никого абсолютно не волнует, что человек может просто не дожить до пенсии. Или он самостоятельно хочет накопить себе на старость и не доверяет очень невыгодному вкладу под названием \"пенсионный фонд\", который уже много лет не начисляет проценты. Он просто <strong>не может</strong> отказаться от выплат туда.</p>\n<p>С медстраховкой аналогичное дерьмо — ты можешь наблюдаться в частных клиниках за свой счет. <strong>НО</strong> ты <strong>ОБЯЗАН</strong> финансировать безумную и отвратительную систему государственных поликлиник. Зачем? Почему я не могу отказаться выплачивать деньги в фонд, при этом не пользуясь государственной медициной? Потому что какой-то дядька давно решил, что эта опция нужна <strong>всем без исключения</strong> и её нельзя отключить.</p>\n<p>И вот мы подходим к самому главному — юзабилити интерфейсов. И я считаю, что за отсутствие \"выключателя\" у основных функций систем пора уже вводить уголовную ответственность <del>хотя, средневековые развлечения с забиванием камнями тоже подойдут</del> .</p>\n<h2>Низкий поклон ребяткам из TOSHIBA</h2>\n<p>Задаю вам школьную задачку. <strong>Дано:</strong></p>\n<ol>\n<li>Ковидо-карантин, когда закрыты все магазины = 1шт.</li>\n<li>Обезьяна, уверенная в том, что она может работать из дома = 1шт.</li>\n<li>Ноутбук с экраном 1366x768 = 1шт.</li>\n<li>В меру старенький LCD-телевизор TOSHIBA 19AV501 со странным разрешением 1440x900 и возможностью законнектиться по HDMI </li>\n</ol>\n<p><img src=\"../assets/blog/authoritarian-tv-interfaces/toshiba.jpg\" alt=\"TOSHIBA 19AV501\"></p>\n<p><strong>Вопрос:</strong> за сколько миллисекунд сгорит стул?</p>\n<h2>Суть</h2>\n<p><img src=\"../assets/blog/authoritarian-tv-interfaces/question.jpg\" alt=\"Встал вопрос\"></p>\n<p><del>Во времена моей молодости</del> Когда начался карантин, <em>встал вопрос</em> о том, как реализовать своё рабочее место на дому. Мощностью железок я толком не был ограничен, т.к. <a href=\"./remote-workplace-linux\">подключался по RDP</a> к удалённому компьютеру. Но вот с размером экрана ноутбука у меня возникли проблемы: просто физически не помещались нужные окна на крошечный экран, и постоянно переключаться между окнами было чертовски неудобно. </p>\n<p>Поэтому, чтобы хоть как-то сгладить ситуацию, я решил оккупировать <del>Польшу</del> телевизор с кухни и подключить его по <em>HDMI</em>. Казалось бы, что может пойти не так в этой ситуации? Берем телевизор, кабель и ноутбук и совмещаем. Но как бы не так! </p>\n<p>Именно в момент соития моего ноутбука и телевизора я узнал, <del>откуда взялся оптимус прайм</del> что такое \"неотключаемый оверскан\". <strong>Оверскан</strong> — это когда телевизор увеличивает <strong>всю картинку</strong> на +-5% (при том замыливая), а те куски, которые не влезли на экран — просто отбрасывает, словно их и не было. Т.е. он показывает только середину экрана: без нижней панели с часами и шапок окон сверху.</p>\n<p>Наверное, при просмотре каких-то телепередач в этом есть смысл, но при работе за компом це пiздец. А в настройках телевизора нет ничего похожего на отключение этого режима. Совсем ничего. И как с этим жить?</p>\n<h2>Поиск информации</h2>\n<p>Вооружившись гуглом и шаманским супер-бубном, я принялся искать инфу об этой проблеме. И что вы думаете? Оказывается, что это говно не связано с конкретной моделью телевизоров. Оверскан у <strong>многих</strong> неотключаемый!</p>\n<p>Выходит, это не ошибка разработчиков, а какая-то <strong>устоявшаяся практика</strong>. Я уверен, что существует лобби маньяков-проектировщиков интерфейсов, которые наслаждаются страданиями пользователей по всему миру. Казалось бы, что сложного в добавлении переключателя в меню?</p>\n<p><img src=\"../assets/blog/authoritarian-tv-interfaces/maniac.jpg\" alt=\"Маньяки-проектировщики интерфейсов\"></p>\n<h2>Попытки решения</h2>\n<p>Сразу после подключения <em>HDMI</em> к ноутбуку, телевизор даже не рассказывает о том, что его родное разрешение <em>1440x900</em>. И пытается запуститься в дефолтном режиме (1920x1080i).</p>\n<pre><code class=\"language-bash\"># Ответ xrandr\n\nHDMI-1 connected\n   1920x1080i    50.00 +  60.00    59.94  \n   1280x720      60.00    50.00    59.94  \n   1440x576      50.00  \n   1024x768      75.03    70.07    60.00  \n   1440x480      60.00    59.94  \n   800x600       72.19    75.00    60.32  \n   720x576       50.00  \n   720x576i      50.00  \n   720x480       60.00    59.94  \n   720x480i      60.00    59.94  \n   640x480       75.00    72.81    60.00    59.94  \n\n</code></pre>\n<p>Перебрав все режимы из списка, я увидел, что в режиме 640x480 всё-таки оверскан отключается! То есть, телевизор умеет это делать. Но такое разрешение совсем никуда не годится. Будем копать дальше. </p>\n<p>А что будет, если ему насильно объявить родное разрешение?</p>\n<pre><code class=\"language-bash\">cvt 1440 900 60 # получаем данные для создания режима 1440х900 60 кадров в секунду\n\n>> # 1440x900 59.89 Hz (CVT 1.30MA) hsync: 55.93 kHz; pclk: 106.50 MHz\n>> Modeline \"1440x900_60.00\"  106.50  1440 1528 1672 1904  900 903 909 934 -hsync +vsync\n\nxrandr --newmode \"1440x900_60.00\"  106.50  1440 1528 1672 1904  900 903 909 934 -hsync +vsync\n\nxrandr --addmode HDMI-1 1440x900_60.00 # Добавляем созданный режим к этому подключению\nxrandr --output HDMI-1 --mode 1440x900_60.00 # Запускаем\n</code></pre>\n<p>И... Ничего! Оверскан продолжает работать. Также на форумах нашел рекомендацию выключить стриминг аудио по HDMI. Казалось бы, при чем здесь оверскан? Но можно попробовать:</p>\n<pre><code class=\"language-bash\">xrandr --output HDMI-1 --set audio force-dvi\n</code></pre>\n<p>И опять никакого эффекта. Ни в максимально близком \"стандартном\" режиме (1280x720), ни в \"родном\" разрешении.</p>\n<h3>Но выход есть!</h3>\n<p><del>в окно</del></p>\n<p>Покопавшись в интернете и почти-разочаровавшись в этом мире, я наткнулся на <a href=\"https://zoom.cnews.ru/goods_card/item/1758052/toshiba-19av501\">совершенно отвлеченный сайт</a>, на котором собраны характеристики этой модельки телевизора.</p>\n<p>И там были две очень интересные строки: (Естественно, этой информации не было в официальной инструкции. Потому что страдай.)</p>\n<p><a href=\"../assets/blog/authoritarian-tv-interfaces/screenshot.png\"><img src=\"../assets/blog/authoritarian-tv-interfaces/screenshot.png\" alt=\"Скриншот с сайта\"></a></p>\n<p>Там есть разделение на <em>\"Поддерживаемые форматы входного сигнала\"</em> и <em>\"Доступные разрешения при подключении к ПК\"</em>. Так чем же они отличаются? </p>\n<p>Как выяснилось методом тыка — <strong>именно стримингом звука</strong>. Если отключить звук командой, указанной выше, и выставить разрешение из списка <em>\"Доступные разрешения при подключении к ПК\"</em>, то телевизор автоматически переходит в режим \"монитора\" и начинает отображать картинку в том же размере, как она отправляется с компьютера. </p>\n<p>Но, ЧСХ, среди этого списка \"доступных\" разрешений <strong>НЕТ родного</strong>. Так что, полностью от мыла <strong>избавиться не удастся</strong>. Но это уже кое-что. Затаив лёгкую злобу на разработчиков, выбираем максимальное разрешение из доступных.</p>\n<p>Итоговый скрипт запуска этого монитора в нормальном режиме выглядит следующим образом:</p>\n<pre><code class=\"language-bash\">#! /bin/bash\n\nxrandr --output HDMI-1 --set audio force-dvi\nxrandr --newmode \"1360x768_60.00\"   84.75  1360 1432 1568 1776  768 771 781 798 -hsync +vsync\nxrandr --addmode HDMI-1 1360x768_60.00\nxrandr --output HDMI-1 --mode 1360x768_60.00\n</code></pre>\n<p>Я его не стал вешать на автозапуск, т.к. иногда подключаю другие устройства по HDMI, и у них со стандартными настройками всё в порядке. Не хотелось бы ломать с ними связь. Так что, я запускаю скрипт после подключения конкретно этого телевизора. </p>\n<h2>Финал</h2>\n<p>Я очень рад, что основные проблемы разрешились и телевизор заработал в приемлемом режиме. Но длительных танцев с бубном можно было бы <strong>избежать</strong>, если бы переключение с режима <strong>\"телевизора\"</strong> на режим <strong>\"монитора\"</strong> (без оверскана) происходило нормально в меню телевизора, а не отключением стриминга аудио по HDMI. (Что характерно, на windows его вообще не выключить.)</p>\n<p>А отсутствие родного разрешения экрана в списке \"поддерживаемых\" — это вообще отдельная шутка инженеров над пользователями. Но с ней можно мириться. </p>\n<p>Всех благ</p>\n<iframe frameborder=\"0\" style=\"border:none;width:100%;height:180px;\" width=\"100%\" height=\"180\" src=\"https://music.yandex.ru/iframe/#track/63801314/10183597\">Слушайте <a href='https://music.yandex.ru/album/10183597/track/63801314'>Тоталитаризм</a> — <a href='https://music.yandex.ru/artist/8896777'>808hardcore</a> на Яндекс.Музыке</iframe>\n<p><a href=\"/tags/linux\">#linux</a> <a href=\"/tags/%D1%82%D0%B0%D0%BD%D1%86%D1%8B_%D1%81_%D0%B1%D1%83%D0%B1%D0%BD%D0%BE%D0%BC\">#танцы<em>с</em>бубном</a></p>\n","ogImage":{"url":"/assets/blog/authoritarian-tv-interfaces/background.jpg"},"coverImage":"/assets/blog/authoritarian-tv-interfaces/background.jpg","issueId":"15"}},"__N_SSG":true}